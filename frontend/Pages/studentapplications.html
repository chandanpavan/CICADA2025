<html>
    <head>
        <title>Applications</title>
    </head>
    <link rel="stylesheet" href="index.css">
    <body>
        <div class="container">
            <div class="sidebar-left">
                <h2 style="margin-top: 30px;">Placement Portal</h2>
                <div>
                <ul>
                    <li><a href="studentdashboard.html">Dashboard</li></a>
                    <li><a href="studentnotifications.html">Notifications </li></a>
                    <li><a href="studentapplications.html">My Applications</li></a>
                    <li><a href="studentcompanies.html">Browse Companies</li></a>
                    <li><a href="studentprofile.html">Profile</li></a>
                    <li><a href="studentsettings.html">Settings</li></a>
                    <li><a href="loginpage.html">Logout</li></a>
                </ul>
                </div>
            </div>
            <div class="main-content">
                <h1 style="border: 5px;border-bottom:3px;border-color: black; margin:0px ">My Applications</h1>
            <div class ="search_bar">
                <input type="text" placeholder="Search for Companies">
            </div>
                <div class="filter" style="margin-top:40px;margin-right:100px">
                    <select>
                        <option>All</option>
                        <option>Applied</option>
                        <option>Shortlisted</option>
                        <option>Accepted</option>
                        <option>Rejected</option>
                    </select>
                    </div>
                <div class="upcoming_drivers">
                    <div class="upcoming_drivers_container">
                        <div class="card_upcoming_driver">
                            <p>Company:Tata Motors</p>
                            <p>Role:Manager</p>
                            <p>Location:Hybrid(Bangalore)</p>
                            <p>Drive Date:19th May</p>
                            <button>Apply</button>
                        </div>
                        <div class="card_upcoming_driver">
                            <p>Company:Tesla</p>
                            <p>Role:CEO</p>
                            <p>Location:Mars</p>
                            <p>Drive Date:1002 B.C</p>
                            <button>Apply</button>
                        </div>
                        <div class="card_upcoming_driver">
                            <p>Company:Tata Motors</p>
                            <p>Role:Manager</p>
                            <p>Location:Hybrid(Bangalore)</p>
                            <p>Drive Date:19th May</p>
                            <button>Apply</button>
                        </div>
                        <div class="card_upcoming_driver">
                            <p>Company:Tesla</p>
                            <p>Role:CEO</p>
                            <p>Location:Mars</p>
                            <p>Drive Date:1002 B.C</p>
                            <button>Apply</button>
                        </div>
                    </div>
                </div>
                <div class="sidebar-right">
                    <div class="stats-panel">
                        <h2> My Stats</h2>
                        
                        <div class="big-circle"
                            id="pie-chart" 
                            data-shortlisted="4"
                            data-accepted="3"
                            data-rejected="1">

                            <div class="tooltip" id="chart-tooltip"></div>
                        </div>

                        <div class="legend">
                            <p><span class="pi_chart yellow"></span>Shortlisted</p>
                            <p><span class="pi_chart green"></span>Accepted</p>
                            <p><span class="pi_chart red"></span>Rejected</p>

                        </div>
                            
                        </div>
                    </div>
                </div>
                </div>  
        </div>
        <script>
            const circle=document.querySelector("#pie-chart");
            const tooltip=document.querySelector("#chart-tooltip");

            const shortlisted=parseInt(circle.getAttribute("data-shortlisted"));
            const accepted=parseInt(circle.getAttribute("data-accepted"));
            const rejected=parseInt(circle.getAttribute("data-rejected"));

            const total=shortlisted+accepted+rejected;

            const d1=shortlisted/total*360;
            const d2=accepted/total*360;
            const d3=rejected/total*360;

            const finalBG=`
                conic-gradient(
                    #FFC107 0deg ${d1}deg,
                    #4CAF50 ${d1}deg ${d1+d2}deg,
                    #F44336 ${d1+d2}deg 360deg
                )
            `;
            circle.style.setProperty("--final-bg",finalBG);

            const statsText=`
                Shortlisted: ${shortlisted} <br>
                Accepted: ${accepted} <br>
                Rejected: ${rejected}
                `;

            circle.addEventListener("mouseenter",() =>{
                tooltip.innerHTML=statsText;
                tooltip.style.display="block";
            });
            circle.addEventListener("mouseleave",() =>{
                tooltip.style.display="none";
            });
        </script>
    </body>
</html>